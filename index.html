<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Backbone.facetr by arillo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Backbone.facetr</h1>
      <h2 class="project-tagline">A library to perform faceted search on Backbone collections</h2>
      <a href="https://github.com/arillo/Backbone.Facetr" class="btn">View on GitHub</a>
      <a href="https://github.com/arillo/Backbone.Facetr/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/arillo/Backbone.Facetr/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="backbonefacetr" class="anchor" href="#backbonefacetr" aria-hidden="true"><span class="octicon octicon-link"></span></a>Backbone.Facetr</h1>

<p><a href="https://www.npmjs.com/package/backbone.facetr"><img src="https://img.shields.io/npm/l/backbone.facetr.svg" alt="npm"></a>
<a href="https://www.npmjs.com/package/backbone.facetr"><img src="https://img.shields.io/npm/v/backbone.facetr.svg" alt="npm"></a>
<a href="https://github.com/arillo/Backbone.Facetr"><img src="https://img.shields.io/bower/v/Backbone.Facetr.svg" alt="Bower"></a>
<a href="https://travis-ci.org/arillo/Backbone.Facetr"><img src="https://travis-ci.org/arillo/Backbone.Facetr.svg?branch=master" alt="Build Status"></a>
<a href="https://coveralls.io/github/arillo/Backbone.Facetr?branch=master"><img src="https://coveralls.io/repos/arillo/Backbone.Facetr/badge.svg?branch=master&amp;service=github" alt="Coverage Status"></a></p>

<h3>
<a id="-contents" class="anchor" href="#-contents" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="contents"></a> CONTENTS</h3>

<ul>
<li><a href="#introduction">INTRODUCTION</a></li>
<li><a href="#installation">INSTALLATION</a></li>
<li><a href="#basic-usage">BASIC USAGE</a></li>
<li><a href="#dot-notation">DOT NOTATION</a></li>
<li><a href="#operators">OPERATORS</a></li>
<li><a href="#api-reference">API REFERENCE</a></li>
<li><a href="#examples">EXAMPLES</a></li>
<li><a href="#license">LICENSE</a></li>
</ul>

<h3>
<a id="-introduction" class="anchor" href="#-introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="introduction"></a> INTRODUCTION</h3>

<p>Backbone.Facetr is an utility which enables filtering of Backbone collections through facets. It can be used to implement faceted search, which follows the
<a href="http://en.wikipedia.org/wiki/Faceted_classification">faceted classification system</a>.</p>

<p>It works flawlessly up to 2500 items; computation starts getting slower with 5000 - 10000 items. This is however an 
early version; optimizations may improve performance in future realeases.</p>

<h3>
<a id="-installation" class="anchor" href="#-installation" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="installation"></a> INSTALLATION</h3>

<p>Production bundles can be found in the dist folder. Facetr is distributed via bower and npm.
Both AMD and CommonJS are supported.</p>

<h4>
<a id="npm" class="anchor" href="#npm" aria-hidden="true"><span class="octicon octicon-link"></span></a>npm</h4>

<div class="highlight highlight-source-shell"><pre>npm install backbone.facetr --save</pre></div>

<h4>
<a id="bower" class="anchor" href="#bower" aria-hidden="true"><span class="octicon octicon-link"></span></a>bower</h4>

<div class="highlight highlight-source-shell"><pre>bower install Backbone.Facetr --save</pre></div>

<h4>
<a id="build-from-source" class="anchor" href="#build-from-source" aria-hidden="true"><span class="octicon octicon-link"></span></a>build from source</h4>

<div class="highlight highlight-source-shell"><pre>git clone git@github.com:arillo/Backbone.Facetr.git <span class="pl-c"># clone repo</span>
<span class="pl-c1">cd</span> Backbone.Facetr <span class="pl-c"># navigate to local repo</span>
npm install -g grunt-cli <span class="pl-c"># install grunt globally</span>
npm install <span class="pl-c"># install dependencies</span>
grunt <span class="pl-c"># build to dist folder</span></pre></div>

<p>Include in your code using any of the following methods</p>

<h4>
<a id="amd" class="anchor" href="#amd" aria-hidden="true"><span class="octicon octicon-link"></span></a>AMD</h4>

<div class="highlight highlight-source-js"><pre><span class="pl-en">define</span>(<span class="pl-s"><span class="pl-pds">'</span>yourmodule<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>backbone.facetr<span class="pl-pds">'</span></span>], <span class="pl-k">function</span>(<span class="pl-smi">Facetr</span>){
    <span class="pl-c">// ... </span>
});</pre></div>

<h4>
<a id="commonjs" class="anchor" href="#commonjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>CommonJS</h4>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> Facetr <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>backbone.facetr<span class="pl-pds">'</span></span>);</pre></div>

<h4>
<a id="script-tag" class="anchor" href="#script-tag" aria-hidden="true"><span class="octicon octicon-link"></span></a>script tag</h4>

<div class="highlight highlight-text-html-basic"><pre><span class="pl-c">&lt;!-- deps --&gt;</span>
&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>path/to/libs/backbone.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;
&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>path/to/libs/underscore.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;
<span class="pl-c">&lt;!-- facetr --&gt;</span>
&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>path/to/libs/backbone.facetr.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</pre></div>

<h3>
<a id="-basic-usage" class="anchor" href="#-basic-usage" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="basic-usage"></a> BASIC USAGE</h3>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// create a collection with few test items</span>
<span class="pl-k">var</span> collection <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Backbone.Collection</span>([
    {
        <span class="pl-s"><span class="pl-pds">'</span>Name<span class="pl-pds">'</span></span>      <span class="pl-k">:</span> {
            <span class="pl-s"><span class="pl-pds">'</span>FirstName<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Bob<span class="pl-pds">'</span></span>,
            <span class="pl-s"><span class="pl-pds">'</span>LastName<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Smith<span class="pl-pds">'</span></span>
        },
        <span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>       <span class="pl-k">:</span> <span class="pl-c1">20</span>,
        <span class="pl-s"><span class="pl-pds">'</span>Country<span class="pl-pds">'</span></span>   <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Australia<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>Hobbies<span class="pl-pds">'</span></span>   <span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>fishing<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>painting<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>playing the ukulele<span class="pl-pds">'</span></span>],
        <span class="pl-s"><span class="pl-pds">'</span>Profession<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>manager<span class="pl-pds">'</span></span>
    },
    {
        <span class="pl-s"><span class="pl-pds">'</span>Name<span class="pl-pds">'</span></span>      <span class="pl-k">:</span> {
            <span class="pl-s"><span class="pl-pds">'</span>FirstName<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Otto<span class="pl-pds">'</span></span>,
            <span class="pl-s"><span class="pl-pds">'</span>LastName<span class="pl-pds">'</span></span>  <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Von Braun<span class="pl-pds">'</span></span>
        },
        <span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>       <span class="pl-k">:</span> <span class="pl-c1">35</span>,
        <span class="pl-s"><span class="pl-pds">'</span>Country<span class="pl-pds">'</span></span>   <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>New Zealand<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>Hobbies<span class="pl-pds">'</span></span>   <span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>drawing<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>painting<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>shopping<span class="pl-pds">'</span></span>],
        <span class="pl-s"><span class="pl-pds">'</span>Profession<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>team manager<span class="pl-pds">'</span></span>
    },
    {
        <span class="pl-s"><span class="pl-pds">'</span>Name<span class="pl-pds">'</span></span>      <span class="pl-k">:</span> {
            <span class="pl-s"><span class="pl-pds">'</span>FirstName<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Sarah<span class="pl-pds">'</span></span>,
            <span class="pl-s"><span class="pl-pds">'</span>LastName<span class="pl-pds">'</span></span>  <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Smith<span class="pl-pds">'</span></span>
        },
        <span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>       <span class="pl-k">:</span> <span class="pl-c1">28</span>,
        <span class="pl-s"><span class="pl-pds">'</span>Country<span class="pl-pds">'</span></span>   <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Ireland<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>Hobbies<span class="pl-pds">'</span></span>   <span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>shopping<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>painting<span class="pl-pds">'</span></span>],
        <span class="pl-s"><span class="pl-pds">'</span>Profession<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>project manager<span class="pl-pds">'</span></span>
    }
]);

<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.LastName<span class="pl-pds">'</span></span>).<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>Smith<span class="pl-pds">'</span></span>); <span class="pl-c">// collection contains 'Sarah Smith' and 'Bob Smith'</span>
<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Hobbies<span class="pl-pds">'</span></span>).<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>shopping<span class="pl-pds">'</span></span>); <span class="pl-c">// contains only 'Sarah Smith' </span>
<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.LastName<span class="pl-pds">'</span></span>).<span class="pl-en">removeValue</span>(<span class="pl-s"><span class="pl-pds">'</span>Smith<span class="pl-pds">'</span></span>); <span class="pl-c">// contains 'Sarah Smith' and 'Otto Von Braun'</span>

<span class="pl-c">// removes all facet values and restores original collection content</span>
<span class="pl-en">Facetr</span>(collection).<span class="pl-en">clearValues</span>();

<span class="pl-c">// if chaining is not your cup of tea, the following is equivalent to the above code</span>
<span class="pl-k">var</span> facetCollection <span class="pl-k">=</span> <span class="pl-en">Facetr</span>(collection); <span class="pl-c">// returns a FacetCollection object</span>
<span class="pl-k">var</span> lastNameFacet <span class="pl-k">=</span> <span class="pl-smi">facetCollection</span>.<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.LastName<span class="pl-pds">'</span></span>); <span class="pl-c">// returns a Facet object</span>
<span class="pl-k">var</span> hobbiesFacet <span class="pl-k">=</span> <span class="pl-smi">facetCollection</span>.<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Hobbies<span class="pl-pds">'</span></span>);

<span class="pl-smi">lastNameFacet</span>.<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>Smith<span class="pl-pds">'</span></span>); <span class="pl-c">// returns a FacetExp object</span>
<span class="pl-smi">hobbiesFacet</span>.<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>shopping<span class="pl-pds">'</span></span>);
<span class="pl-smi">lastNameFacet</span>.<span class="pl-en">removeValue</span>(<span class="pl-s"><span class="pl-pds">'</span>Smith<span class="pl-pds">'</span></span>);

<span class="pl-c">// read the API Reference section for more</span>
<span class="pl-c">// most examples will use the above collection reference to illustrate functionalities</span></pre></div>

<h3>
<a id="-dot-notation" class="anchor" href="#-dot-notation" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="dot-notation"></a> DOT NOTATION</h3>

<pre><code>Syntax: PropertyName{1}(.PropertyName)*
</code></pre>

<p>In the context of Facetr, Dot Notation refers to the syntax used to define facets on a collection. Using the 
Facetr Dot Notation it is possible to define facets on properties of a Model, as well as on properties of its properties.</p>

<p>For example, consider the following model:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> model <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Backbone.Model</span>({
    <span class="pl-s"><span class="pl-pds">'</span>Name<span class="pl-pds">'</span></span> <span class="pl-k">:</span> {
        <span class="pl-s"><span class="pl-pds">'</span>FirstName<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>John<span class="pl-pds">'</span></span>,
        <span class="pl-s"><span class="pl-pds">'</span>LastName<span class="pl-pds">'</span></span> <span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>Smith<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>White<span class="pl-pds">'</span></span>]
    },
    <span class="pl-s"><span class="pl-pds">'</span>City<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>London<span class="pl-pds">'</span></span>,
    <span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-c1">45</span>,
    <span class="pl-s"><span class="pl-pds">'</span>FamilyMembers<span class="pl-pds">'</span></span> <span class="pl-k">:</span> [
        { <span class="pl-s"><span class="pl-pds">'</span>Name<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Robert<span class="pl-pds">'</span></span> },
        { <span class="pl-s"><span class="pl-pds">'</span>Name<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Margaret<span class="pl-pds">'</span></span> }
    ]
});</pre></div>

<p>To add a facet on property 'FirstName' the following expression in Dot Notation syntax can be used: 'Name.FirstName'.</p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.FirstName<span class="pl-pds">'</span></span>);</pre></div>

<p>Theoretically there is no depth limit for a Dot Notation expression (e.g. PropertyName1.PropertyName2...PropertyNameN), the only 
limitation being the common sense.</p>

<p>A facet can only be added on a Backbone Model or object property having any of the following value types:</p>

<ul>
<li>string | number | boolean</li>
<li>Array of strings</li>
<li>Array of numbers</li>
<li>Array of booleans</li>
<li>Array of objects</li>
<li>Array of Backbone models</li>
</ul>

<p>It cannot be added on properties having the following value / composite types:</p>

<ul>
<li>object</li>
<li>Backbone Collection</li>
<li>Array of arrays</li>
<li>Array of Backbone collections</li>
</ul>

<p>.. and in any other case not mentioned in the list of allowed value types</p>

<h4>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>EXAMPLE</h4>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>City<span class="pl-pds">'</span></span>);               <span class="pl-c">// valid, City is a string</span>
<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>);                <span class="pl-c">// valid, Age is a Number</span>
<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.LastName<span class="pl-pds">'</span></span>);      <span class="pl-c">// valid, LastName is an Array of strings</span>
<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>FamilyMembers.Name<span class="pl-pds">'</span></span>); <span class="pl-c">// valid, takes value of Name of each object in array FamilyMembers</span>
<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name<span class="pl-pds">'</span></span>);               <span class="pl-c">// error, Name is an object</span>

<span class="pl-c">// etc..</span></pre></div>

<h3>
<a id="-operators" class="anchor" href="#-operators" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="operators"></a> OPERATORS</h3>

<p>Facets filtering can be combined using logical operators 'or' and 'and', both between different facets (external operator, see <a href="#facetcollection-facet">FacetCollection.facet method</a>) and between values of one facet (internal operator, see <a href="#facet-value">Facet.value method</a> and <a href="#facetexp">FacetExp</a>).</p>

<h4>
<a id="external-operator" class="anchor" href="#external-operator" aria-hidden="true"><span class="octicon octicon-link"></span></a>External Operator</h4>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// create a facet with default external operator 'and'</span>
<span class="pl-k">var</span> facetCountry <span class="pl-k">=</span> <span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Country<span class="pl-pds">'</span></span>);

<span class="pl-c">// or set the external operator explicitly</span>
<span class="pl-k">var</span> facetLastName <span class="pl-k">=</span> <span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.LastName<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>and<span class="pl-pds">'</span></span>);

<span class="pl-c">// when filtering, such operator will be used to combine filters of the two facets</span>
<span class="pl-smi">facetCountry</span>.<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>Australia<span class="pl-pds">'</span></span>);
<span class="pl-smi">facetLastName</span>.<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>Smith<span class="pl-pds">'</span></span>);

<span class="pl-c">// collection contains all models with Country equal 'Australia' and LastName equal 'Smith'</span></pre></div>

<h4>
<a id="internal-operator" class="anchor" href="#internal-operator" aria-hidden="true"><span class="octicon octicon-link"></span></a>Internal Operator</h4>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// add a value with default internal operator 'or'</span>
<span class="pl-smi">facetCountry</span>.<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>Australia<span class="pl-pds">'</span></span>);

<span class="pl-c">// or set the internal operator explicitly</span>
<span class="pl-smi">facetCountry</span>.<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>Ireland<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>or<span class="pl-pds">'</span></span>);

<span class="pl-c">// it is possible to use chaining syntax to combine values</span>
<span class="pl-smi">facetCountry</span>.<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>Australia<span class="pl-pds">'</span></span>).<span class="pl-en">or</span>(<span class="pl-s"><span class="pl-pds">'</span>Ireland<span class="pl-pds">'</span></span>);

<span class="pl-c">// collection contains all models with Country equal either 'Australia' or 'Ireland'</span></pre></div>

<h3>
<a id="-api-reference" class="anchor" href="#-api-reference" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="api-reference"></a> API Reference</h3>

<ul>
<li><p><a href="#facetr">Facetr</a></p></li>
<li>
<p><a href="#facetcollection">FacetCollection</a></p>

<ul>
<li><a href="#facetcollection-facet">facet</a></li>
<li><a href="#facetcollection-tojson">toJSON</a></li>
<li><a href="#facetcollection-clear">clear</a></li>
<li><a href="#facetcollection-remove">remove</a></li>
<li><a href="#facetcollection-sortby">sortBy</a></li>
<li><a href="#facetcollection-asc">asc</a></li>
<li><a href="#facetcollection-desc">desc</a></li>
<li><a href="#facetcollection-addfilter">addFilter</a></li>
<li><a href="#facetcollection-removefilter">removeFilter</a></li>
<li><a href="#facetcollection-clearfilters">clearFilters</a></li>
<li><a href="#facetcollection-clearvalues">clearValues</a></li>
<li><a href="#facetcollection-facetsorder">facetsOrder</a></li>
<li><a href="#facetcollection-collection">collection</a></li>
<li><a href="#facetcollection-origlength">origLength</a></li>
<li><a href="#facetcollection-facets">facets</a></li>
<li><a href="#facetcollection-settingsjson">settingsJSON</a></li>
<li><a href="#facetcollection-initfromsettingsjson">initFromSettingsJSON</a></li>
</ul>
</li>
<li>
<p><a href="#facet">Facet</a></p>

<ul>
<li><a href="#facet-value">value</a></li>
<li><a href="#facet-removevalue">removeValue</a></li>
<li><a href="#facet-tojson">toJSON</a></li>
<li><a href="#facet-label">label</a></li>
<li><a href="#facet-sortbycount">sortByCount</a></li>
<li><a href="#facet-sortbyactivecount">sortByActiveCount</a></li>
<li><a href="#facet-sortbyvalue">sortByValue</a></li>
<li><a href="#facet-asc">asc</a></li>
<li><a href="#facet-desc">desc</a></li>
<li><a href="#facet-remove">remove</a></li>
<li><a href="#facet-clear">clear</a></li>
<li><a href="#facet-customdata">customData</a></li>
<li><a href="#facet-isselected">isSelected</a></li>
<li><a href="#facet-hierarchy">hierarchy</a></li>
</ul>
</li>
<li>
<p><a href="#facetexp">FacetExp</a></p>

<ul>
<li><a href="#facetexp-and">and</a></li>
<li><a href="#facetexp-or">or</a></li>
</ul>
</li>
</ul>

<h3>
<a id="-facetr" class="anchor" href="#-facetr" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetr"></a> Facetr</h3>

<h5>
<a id="facetrcollectionbackbonecollection-idstring--facetcollection" class="anchor" href="#facetrcollectionbackbonecollection-idstring--facetcollection" aria-hidden="true"><span class="octicon octicon-link"></span></a>Facetr(collection:Backbone.Collection, [id:string]) : FacetCollection</h5>

<p>Initialize a Collection to be used with Facetr. The first building block of
any Facetr expression. Returns the created FacetCollection instance for
method chaining. An id can be associated with the collection.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection);

<span class="pl-c">// or also</span>
<span class="pl-en">Facetr</span>(collection, <span class="pl-s"><span class="pl-pds">'</span>myCollection<span class="pl-pds">'</span></span>);

<span class="pl-c">// which enables the following syntax</span>
<span class="pl-en">Facetr</span>(<span class="pl-s"><span class="pl-pds">'</span>myCollection<span class="pl-pds">'</span></span>) <span class="pl-k">===</span> <span class="pl-en">Facetr</span>(collection); <span class="pl-c">// true</span></pre></div>

<h3>
<a id="-facetcollection" class="anchor" href="#-facetcollection" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection"></a> FacetCollection</h3>

<h5>
<a id="-facetdotnotationexprstring-externaloperatorstring-silentboolean--facet" class="anchor" href="#-facetdotnotationexprstring-externaloperatorstring-silentboolean--facet" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection-facet"></a> facet(dotNotationExpr:string, [externalOperator:string], [silent:boolean]) : Facet</h5>

<p>Adds a Facet on the given collection using the property refered to by the
Dot Notation expression (see <a href="#dot-notation">Dot Notation section</a> for more details).
Valid <a href="#operators">external operator</a> values are: 'or' and 'and' (default is 'and').
Returns the created Facet instance to allow method chaining.
Triggers a facet event with the facetName passed to the callback, unless true is passed as last parameter.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>facet<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">facetName</span>) {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>added facet<span class="pl-pds">'</span></span>, facetName);
});

<span class="pl-c">// add facet on property 'Age' using default operator ('and')</span>
<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>);

<span class="pl-c">// add facet on property 'LastName' of object 'Name' using 'or' operator</span>
<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.LastName<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>or<span class="pl-pds">'</span></span>);

<span class="pl-c">// console output would be</span>
<span class="pl-c">// added facet Age</span>
<span class="pl-c">// added facet Name.LastName</span></pre></div>

<h5>
<a id="-tojson--array" class="anchor" href="#-tojson--array" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection-tojson"></a> toJSON() : Array</h5>

<p>Returns an array containing objects representing the status of the facets
added to the collection. Useful for rendering out facets lists.
Each object in the array is the result of invoking toJSON on each Facet
(see Facet documentation below for the Facet.toJSON method).</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// create a collection with two models</span>
<span class="pl-k">var</span> collection <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Backbone.Collection</span>([
    {
        <span class="pl-s"><span class="pl-pds">'</span>Name<span class="pl-pds">'</span></span>      <span class="pl-k">:</span> {
            <span class="pl-s"><span class="pl-pds">'</span>FirstName<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Bob<span class="pl-pds">'</span></span>,
            <span class="pl-s"><span class="pl-pds">'</span>LastName<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Smith<span class="pl-pds">'</span></span>
        },
        <span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>       <span class="pl-k">:</span> <span class="pl-c1">20</span>
    },
    {
        <span class="pl-s"><span class="pl-pds">'</span>Name<span class="pl-pds">'</span></span>      <span class="pl-k">:</span> {
            <span class="pl-s"><span class="pl-pds">'</span>FirstName<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Otto<span class="pl-pds">'</span></span>,
            <span class="pl-s"><span class="pl-pds">'</span>LastName<span class="pl-pds">'</span></span>  <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Von Braun<span class="pl-pds">'</span></span>
        },
        <span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>       <span class="pl-k">:</span> <span class="pl-c1">35</span>
    }
]);

<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.FirstName<span class="pl-pds">'</span></span>).<span class="pl-c1">label</span>(<span class="pl-s"><span class="pl-pds">'</span>First Name<span class="pl-pds">'</span></span>);
<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.FirstName<span class="pl-pds">'</span></span>).<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>Bob<span class="pl-pds">'</span></span>);

<span class="pl-k">var</span> json <span class="pl-k">=</span> <span class="pl-en">Facetr</span>(collection).<span class="pl-en">toJSON</span>();

<span class="pl-c">// value of json will be an array of Facet data object with the following format:</span>
<span class="pl-c">//</span>
<span class="pl-c">// [</span>
<span class="pl-c">//      {</span>
<span class="pl-c">//          data : {</span>
<span class="pl-c">//              extOperator : 'and',</span>
<span class="pl-c">//              intOperator : 'or',</span>
<span class="pl-c">//              label       : 'First Name',</span>
<span class="pl-c">//              name        : 'Name.FirstName',</span>
<span class="pl-c">//              selected    : true,</span>
<span class="pl-c">//              sort        : {</span>
<span class="pl-c">//                  by        : 'value',</span>
<span class="pl-c">//                  direction : 'asc'</span>
<span class="pl-c">//              }</span>
<span class="pl-c">//              customData : {}</span>
<span class="pl-c">//          },</span>
<span class="pl-c">//          values : [</span>
<span class="pl-c">//              {</span>
<span class="pl-c">//                  active      : true,</span>
<span class="pl-c">//                  activeCount : 1,</span>
<span class="pl-c">//                  count       : 1,</span>
<span class="pl-c">//                  value       : 'Bob'</span>
<span class="pl-c">//              },</span>
<span class="pl-c">//              {</span>
<span class="pl-c">//                  active      : false,</span>
<span class="pl-c">//                  activeCount : 0,</span>
<span class="pl-c">//                  count       : 1,</span>
<span class="pl-c">//                  value       : 'Otto'</span>
<span class="pl-c">//              }</span>
<span class="pl-c">//          ]</span>
<span class="pl-c">//      }</span>
<span class="pl-c">// ]</span></pre></div>

<h5>
<a id="-clearsilentboolean--facetcollection" class="anchor" href="#-clearsilentboolean--facetcollection" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection-clear"></a> clear([silent:boolean]) : FacetCollection</h5>

<p>Removes all the facets added to the collection and unfilters it accordingly.
Use this method to reset the original models in the collection.
Triggers a clear event, unless true is passed as parameter.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facet</span>(collection).<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>clear<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>All facets were removed<span class="pl-pds">'</span></span>);
});

<span class="pl-en">Facet</span>(collection).<span class="pl-c1">clear</span>();

<span class="pl-c">// console output:</span>
<span class="pl-c">// All facets were removed</span></pre></div>

<h5>
<a id="-remove--undefined" class="anchor" href="#-remove--undefined" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection-remove"></a> remove() : undefined</h5>

<p>Removes all the facets and the facetrid added on the collection id upon
Facetr(collection) initialization. Resets the original items in the
collection.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">remove</span>()</pre></div>

<h5>
<a id="-sortbyattributestring-silent--facetcollection" class="anchor" href="#-sortbyattributestring-silent--facetcollection" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection-sortby"></a> sortBy(attribute:string, [silent]) : FacetCollection</h5>

<p>Sorts the collection according to the given attribute name. By default
ascendent sort is used. See asc() and desc() methods below to define sort
direction. Triggers sort event unless true is passed as last parameter.
This method automatically recognizes string, numeric or date values.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>sort<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">attr</span>, <span class="pl-smi">dir</span>) {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>Sorting by <span class="pl-pds">'</span></span> <span class="pl-k">+</span> attr <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span> <span class="pl-pds">'</span></span> <span class="pl-k">+</span> dir);
});

<span class="pl-en">Facetr</span>(collection).<span class="pl-en">sortBy</span>(<span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>);

<span class="pl-c">// console output:</span>
<span class="pl-c">// Sorting by Age asc</span></pre></div>

<h5>
<a id="-ascsilentboolean--facetcollection" class="anchor" href="#-ascsilentboolean--facetcollection" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection-asc"></a> asc([silent:boolean]) : FacetCollection</h5>

<p>Sorts the collection in ascendent order by the attribute selected using
sortBy method.
If sortBy was not invoked before, this method has no effect. Triggers sort
event unless true is passed as parameter.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">sortBy</span>(<span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>).<span class="pl-en">asc</span>();</pre></div>

<h5>
<a id="-descsilentboolean--facetcollection" class="anchor" href="#-descsilentboolean--facetcollection" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection-desc"></a> desc([silent:boolean]) : FacetCollection</h5>

<p>Sorts the collection in descendent order by the attribute selected using
sortBy method.
If sortBy was not invoked before, this method has no effect. Triggers sort
event unless true is passed as parameter.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">sortBy</span>(<span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>).<span class="pl-en">desc</span>();</pre></div>

<h5>
<a id="-addfilterfilternamestring-filterfunction-silentboolean--facetcollection" class="anchor" href="#-addfilterfilternamestring-filterfunction-silentboolean--facetcollection" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection-addfilter"></a> addFilter(filterName:string, filter:function, [silent:boolean]) : FacetCollection</h5>

<p>Adds a filter which is used to filter the collection by testing each model against it. 
Triggers Backbone.Collection reset unless true is passed as last parameter. Multiple filters can be added as long as they have
different names. Adding two filters with the same name will result in the first being overwritten by the second.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">addFilter</span>(<span class="pl-s"><span class="pl-pds">'</span>AgeFilter<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">model</span>) {
    <span class="pl-k">return</span> <span class="pl-smi">model</span>.<span class="pl-en">get</span>(<span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>) <span class="pl-k">&gt;=</span> <span class="pl-c1">20</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-smi">model</span>.<span class="pl-en">get</span>(<span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>) <span class="pl-k">&lt;</span> <span class="pl-c1">60</span>; 
});</pre></div>

<h5>
<a id="-removefilterfilternamestring-silentboolean--facetcollection" class="anchor" href="#-removefilterfilternamestring-silentboolean--facetcollection" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection-removefilter"></a> removeFilter(filterName:string, [silent:boolean]) : FacetCollection</h5>

<p>Removes the filter with the given name from the collection and unfilters it accordingly. 
Triggers reset unless true is passed as last parameter.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">removeFilter</span>(<span class="pl-s"><span class="pl-pds">'</span>AgeFilter<span class="pl-pds">'</span></span>);</pre></div>

<h5>
<a id="-clearfilterssilentboolean--facetcollection" class="anchor" href="#-clearfilterssilentboolean--facetcollection" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection-clearfilters"></a> clearFilters([silent:boolean]) : FacetCollection</h5>

<p>Removes all the filters previously added to the collection and unfilters it accordingly. 
Triggers reset unless true is passed as parameter.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">clearFilters</span>();</pre></div>

<h5>
<a id="-clearvaluessilentboolean--facetcollection" class="anchor" href="#-clearvaluessilentboolean--facetcollection" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection-clearvalues"></a> clearValues([silent:boolean]) : FacetCollection</h5>

<p>Removes all the currently selected values from all the facets, bringing
the collection to its initial state.
Triggers a clearValues event unless true is passed as parameter.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">clearValues</span>();</pre></div>

<h5>
<a id="-facetsorderfacetnamesarray-silentboolean--facetcollection" class="anchor" href="#-facetsorderfacetnamesarray-silentboolean--facetcollection" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection-facetsorder"></a> facetsOrder(facetNames:Array, [silent:boolean]) : FacetCollection</h5>

<p>Sometimes it is convinient to give the facets list a predefined order. This method
can be used to achieve this by passing an array of facet names which corresponds to
the order to be given to the facets in the list. Triggers a 'facetsOrder' event with the facetNames array passed
to the event handler, unless true is given as last parameter.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>);
<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.FirstName<span class="pl-pds">'</span></span>);

<span class="pl-c">// Facetr(collection).toJSON() has facet 'Age' at index 0 and 'Name.FirstName' at index 1</span>

<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facetsOrder</span>([<span class="pl-s"><span class="pl-pds">'</span>Name.FirstName<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>]);

<span class="pl-c">// Facetr(collection).toJSON() has facet 'Name.FirstName' at index 0 and 'Age' at index 1</span></pre></div>

<h5>
<a id="-collection--backbonecollection" class="anchor" href="#-collection--backbonecollection" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection-collection"></a> collection() : Backbone.Collection</h5>

<p>Returns the reference to the Backbone.Collection. Useful for cases where the reference
is needed but it was declared in another scope and is no more accessible.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">collection</span>() <span class="pl-k">===</span> collection; <span class="pl-c">// true</span></pre></div>

<h5>
<a id="-origlength--number" class="anchor" href="#-origlength--number" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection-origlength"></a> origLength() : Number</h5>

<p>Returns the length of the collection before any faceted filtering was applied.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> collection <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Backbone.Collection</span>([
    {
        Name <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>John<span class="pl-pds">'</span></span>
        Age  <span class="pl-k">:</span> <span class="pl-c1">19</span>
    },
    {
        Name <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Sarah<span class="pl-pds">'</span></span>,
        Age  <span class="pl-k">:</span> <span class="pl-c1">35</span>
    }
]);

<span class="pl-smi">collection</span>.<span class="pl-c1">length</span>() <span class="pl-c">// 2</span>

<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>).<span class="pl-c1">value</span>(<span class="pl-c1">35</span>);

<span class="pl-smi">collection</span>.<span class="pl-c1">length</span>(); <span class="pl-c">// 1</span>
<span class="pl-en">Facetr</span>(collection).<span class="pl-en">origLength</span>(); <span class="pl-c">// 2</span></pre></div>

<h5>
<a id="-facets--array" class="anchor" href="#-facets--array" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection-facets"></a> facets() : Array</h5>

<p>Returns an array containing all the Facet instances created on this FacetCollection.</p>

<h5>
<a id="-settingsjson--object" class="anchor" href="#-settingsjson--object" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection-settingsjson"></a> settingsJSON() : object</h5>

<p>Returns an object representation of the current state of the Facetr collection which
can be used to reload the same state in future using the initFromSettingsJSON method.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.FirstName<span class="pl-pds">'</span></span>).<span class="pl-c1">label</span>(<span class="pl-s"><span class="pl-pds">'</span>First Name<span class="pl-pds">'</span></span>);
<span class="pl-en">Facetr</span>(collection).<span class="pl-en">sortBy</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.FirstName<span class="pl-pds">'</span></span>).<span class="pl-en">asc</span>();
<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.FirstName<span class="pl-pds">'</span></span>).<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>Bob<span class="pl-pds">'</span></span>);

<span class="pl-k">var</span> json <span class="pl-k">=</span> <span class="pl-en">Facetr</span>(collection).<span class="pl-en">settingsJSON</span>();

<span class="pl-c">// value of json will be the following:</span>
<span class="pl-c">//  </span>
<span class="pl-c">// {</span>
<span class="pl-c">//      sort : {</span>
<span class="pl-c">//          by  :   "Name.FirstName",</span>
<span class="pl-c">//          dir :   "asc"</span>
<span class="pl-c">//      },</span>
<span class="pl-c">//      facets : [</span>
<span class="pl-c">//          {</span>
<span class="pl-c">//              attr    :   "Name.FirstName",</span>
<span class="pl-c">//              eop     :   "and",</span>
<span class="pl-c">//              iop     :   "or",</span>
<span class="pl-c">//              vals    :   [ "Bob" ]</span>
<span class="pl-c">//          }</span>
<span class="pl-c">//      ]</span>
<span class="pl-c">//  }</span></pre></div>

<h5>
<a id="-initfromsettingsjsonjsonobject--facetcollection" class="anchor" href="#-initfromsettingsjsonjsonobject--facetcollection" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetcollection-initfromsettingsjson"></a> initFromSettingsJSON(json:object) : FacetCollection</h5>

<p>Initializes the Facetr collection using a settings object generated
using the settingsJSON method. Triggers an "initFromSettingsJSON" event.</p>

<h3>
<a id="-facet" class="anchor" href="#-facet" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facet"></a> Facet</h3>

<h5>
<a id="-valuevaluestring-internaloperatorstring-silentboolean--facetexp" class="anchor" href="#-valuevaluestring-internaloperatorstring-silentboolean--facetexp" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facet-value"></a> value(value:string, [internalOperator:string], [silent:boolean]) : FacetExp</h5>

<p>Adds a value to the facet. This will result in the collection being filtered
by { FacetName : 'Value' }. Valid <a href="#operators">internal operator</a> values are: 'or' and 'and' (default is 'or').
Triggers a 'filter' event on the FacetCollection passing facetName and facetValue to the handler and 
a 'value' event on the Facet passing the facetValue to the handler, unless true is passed
as last parameter.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>filter<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">facetName</span>, <span class="pl-smi">facetValue</span>) {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>filtered by <span class="pl-pds">'</span></span><span class="pl-k">+</span> facetName <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span> with value equal <span class="pl-pds">'</span></span> <span class="pl-k">+</span> facetValue);
});

<span class="pl-k">var</span> facet <span class="pl-k">=</span> <span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.FirstName<span class="pl-pds">'</span></span>);

<span class="pl-smi">facet</span>.<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>value<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">facetValue</span>){
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>the following value was added to the facet: <span class="pl-pds">'</span></span> <span class="pl-k">+</span> facetValue);
});

<span class="pl-smi">facet</span>.<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>Bob<span class="pl-pds">'</span></span>);

<span class="pl-c">// console output: "filtered by Name.FirstName with value Bob"</span>
<span class="pl-c">// collection contains only models with FirstName = 'Bob'</span></pre></div>

<h5>
<a id="-removevaluevaluestring-silentboolean--facetexp" class="anchor" href="#-removevaluevaluestring-silentboolean--facetexp" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facet-removevalue"></a> removeValue(value:string, [silent:boolean]) : FacetExp</h5>

<p>Removes the given value from the facet and resets the collection to
the state previous of the filtering caused by the removed value.
Triggers a 'unfilter' event on the FacetCollection passing facetName and facetValue to the handler and 
a 'removeValue' event on the Facet passing the facetValue to the handler, unless true is passed
as last parameter.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>unfilter<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">facetName</span>, <span class="pl-smi">facetValue</span>) {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>unfiltered by <span class="pl-pds">'</span></span><span class="pl-k">+</span> facetName <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span> with value equal <span class="pl-pds">'</span></span> <span class="pl-k">+</span> facetValue);
});

<span class="pl-k">var</span> facet <span class="pl-k">=</span> <span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.FirstName<span class="pl-pds">'</span></span>);

<span class="pl-smi">facet</span>.<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>removeValue<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">value</span>){
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>the following value was removed from the facet: <span class="pl-pds">'</span></span> <span class="pl-k">+</span> value);
});

<span class="pl-smi">facet</span>.<span class="pl-en">removeValue</span>(<span class="pl-s"><span class="pl-pds">'</span>Bob<span class="pl-pds">'</span></span>);

<span class="pl-c">// console output: "unfiltered by Name.FirstName with value Bob"</span>
<span class="pl-c">// collection contains again also models with FirstName = 'Bob'</span></pre></div>

<h5>
<a id="-tojson--object" class="anchor" href="#-tojson--object" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facet-tojson"></a> toJSON() : object</h5>

<p>Returns an object representation of the current facet data and values.
Useful for rendering the facet to the page.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// create a collection with two models</span>
<span class="pl-k">var</span> collection <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Backbone.Collection</span>([
    {
        <span class="pl-s"><span class="pl-pds">'</span>Name<span class="pl-pds">'</span></span>      <span class="pl-k">:</span> {
            <span class="pl-s"><span class="pl-pds">'</span>FirstName<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Bob<span class="pl-pds">'</span></span>,
            <span class="pl-s"><span class="pl-pds">'</span>LastName<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Smith<span class="pl-pds">'</span></span>
        },
        <span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>       <span class="pl-k">:</span> <span class="pl-c1">20</span>
    },
    {
        <span class="pl-s"><span class="pl-pds">'</span>Name<span class="pl-pds">'</span></span>      <span class="pl-k">:</span> {
            <span class="pl-s"><span class="pl-pds">'</span>FirstName<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Otto<span class="pl-pds">'</span></span>,
            <span class="pl-s"><span class="pl-pds">'</span>LastName<span class="pl-pds">'</span></span>  <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Von Braun<span class="pl-pds">'</span></span>
        },
        <span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>       <span class="pl-k">:</span> <span class="pl-c1">35</span>
    }
]);

<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.FirstName<span class="pl-pds">'</span></span>).<span class="pl-c1">label</span>(<span class="pl-s"><span class="pl-pds">'</span>First Name<span class="pl-pds">'</span></span>);
<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.FirstName<span class="pl-pds">'</span></span>).<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>Bob<span class="pl-pds">'</span></span>);

<span class="pl-k">var</span> json <span class="pl-k">=</span> <span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.FirstName<span class="pl-pds">'</span></span>).<span class="pl-en">toJSON</span>();

<span class="pl-c">// json is equal to:</span>
<span class="pl-c">//</span>
<span class="pl-c">//  {</span>
<span class="pl-c">//      data : {</span>
<span class="pl-c">//          extOperator : 'and',</span>
<span class="pl-c">//          intOperator : 'or',</span>
<span class="pl-c">//          label       : 'First Name',</span>
<span class="pl-c">//          name        : 'Name.FirstName',</span>
<span class="pl-c">//          selected    : true,</span>
<span class="pl-c">//          sort        : {</span>
<span class="pl-c">//              by        : 'value',</span>
<span class="pl-c">//              direction : 'asc'</span>
<span class="pl-c">//          }</span>
<span class="pl-c">//          customData : {}</span>
<span class="pl-c">//      },</span>
<span class="pl-c">//      values : [</span>
<span class="pl-c">//          {</span>
<span class="pl-c">//              active      : true,</span>
<span class="pl-c">//              activeCount : 1,</span>
<span class="pl-c">//              count       : 1,</span>
<span class="pl-c">//              value       : 'Bob'</span>
<span class="pl-c">//          },</span>
<span class="pl-c">//          {</span>
<span class="pl-c">//              active      : false,</span>
<span class="pl-c">//              activeCount : 0,</span>
<span class="pl-c">//              count       : 1,</span>
<span class="pl-c">//              value       : 'Otto'</span>
<span class="pl-c">//          }</span>
<span class="pl-c">//      ]</span>
<span class="pl-c">//  }</span></pre></div>

<h5>
<a id="-labellabelstring--facet" class="anchor" href="#-labellabelstring--facet" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facet-label"></a> label(label:string) : Facet</h5>

<p>Use this method to set a human readable label for the facet.
This can be used when rendering the facet on the page.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.FirstName<span class="pl-pds">'</span></span>).<span class="pl-c1">label</span>(<span class="pl-s"><span class="pl-pds">'</span>First Name<span class="pl-pds">'</span></span>);

<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.FirstName<span class="pl-pds">'</span></span>).<span class="pl-en">toJSON</span>();

<span class="pl-c">// the property data.label has value 'First Name'</span>
<span class="pl-c">// while the property data.name stays 'Name.FirstName'</span></pre></div>

<h5>
<a id="-sortbycount--facet" class="anchor" href="#-sortbycount--facet" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facet-sortbycount"></a> sortByCount() : Facet</h5>

<p>Sorts the facet values by their count. The count is the number 
of models in the original collection with an attribute having as name 
the facet name and value the given value.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// we use the colleciton defined in Basic Usage section</span>
<span class="pl-k">var</span> facet <span class="pl-k">=</span> <span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Hobbies<span class="pl-pds">'</span></span>);

<span class="pl-smi">facet</span>.<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>painting<span class="pl-pds">'</span></span>); <span class="pl-c">// painting count = 3  </span>
<span class="pl-smi">facet</span>.<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>drawing<span class="pl-pds">'</span></span>);  <span class="pl-c">// drawing count = 1</span>

<span class="pl-c">// facet.toJSON().data.values[0] = 'drawing'</span>
<span class="pl-c">// facet.toJSON().data.values[1] = 'painting'</span>

<span class="pl-smi">facet</span>.<span class="pl-en">sortByCount</span>();

<span class="pl-c">// facet.toJSON().data.values[0] = 'painting'</span>
<span class="pl-c">// facet.toJSON().data.values[1] = 'drawing'</span></pre></div>

<h5>
<a id="-sortbyactivecount--facet" class="anchor" href="#-sortbyactivecount--facet" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facet-sortbyactivecount"></a> sortByActiveCount() : Facet</h5>

<p>Sorts the facet values by their active count. The active count is the number
of models in the current filtered collection with an attribute having as name
the facet name and value the given value.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> facet <span class="pl-k">=</span> <span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Hobbies<span class="pl-pds">'</span></span>);

<span class="pl-smi">facet</span>.<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>fishing<span class="pl-pds">'</span></span>);
<span class="pl-smi">facet</span>.<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>shopping<span class="pl-pds">'</span></span>);

<span class="pl-c">// fishing active count = 1</span>
<span class="pl-c">// shopping active count = 2</span>

<span class="pl-c">// facet.toJSON().data.values[0] = 'fishing'</span>
<span class="pl-c">// facet.toJSON().data.values[1] = 'shopping'</span>

<span class="pl-smi">facet</span>.<span class="pl-en">sortByActiveCount</span>();

<span class="pl-c">// facet.toJSON().data.values[0] = 'shopping'</span>
<span class="pl-c">// facet.toJSON().data.values[1] = 'fishing'</span></pre></div>

<h5>
<a id="-sortbyvalue--facet" class="anchor" href="#-sortbyvalue--facet" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facet-sortbyvalue"></a> sortByValue() : Facet</h5>

<p>Sorts the facet values by their value. This is the default sort.</p>

<h5>
<a id="-asc--facet" class="anchor" href="#-asc--facet" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facet-asc"></a> asc() : Facet</h5>

<p>Sets the direction of the values sort to ascendent.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.FirstName<span class="pl-pds">'</span></span>).<span class="pl-en">asc</span>();</pre></div>

<h5>
<a id="-desc--facet" class="anchor" href="#-desc--facet" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facet-desc"></a> desc() : Facet</h5>

<p>Sets the direction of the values sort to descendant.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Name.FirstName<span class="pl-pds">'</span></span>).<span class="pl-en">sortByCount</span>().<span class="pl-en">desc</span>();</pre></div>

<h5>
<a id="-removesilentboolean--undefined" class="anchor" href="#-removesilentboolean--undefined" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facet-remove"></a> remove([silent:boolean]) : undefined</h5>

<p>Removes the facet and all its values and unfilters the collection accordingly.
It triggers a "removeFacet" event on the facet collection, unless true is passed as parameter.</p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> facetCollection <span class="pl-k">=</span> <span class="pl-en">Facetr</span>(collection);
<span class="pl-k">var</span> facet <span class="pl-k">=</span> <span class="pl-smi">facetCollection</span>.<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>);

<span class="pl-smi">facetCollection</span>.<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>removeFacet<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">facetName</span>){
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>removed facet<span class="pl-pds">'</span></span>, facetName);
});

<span class="pl-smi">facet</span>.<span class="pl-en">remove</span>();

<span class="pl-c">// console output would be</span>
<span class="pl-c">// removed facet Age</span></pre></div>

<h5>
<a id="-clearsilentboolean--facet" class="anchor" href="#-clearsilentboolean--facet" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facet-clear"></a> clear([silent:boolean]) : Facet</h5>

<p>Unselects all the values from the facet. It triggers a 'clear' event unless true is passed as parameter.</p>

<h5>
<a id="-customdatakeystring-valueobject--facet" class="anchor" href="#-customdatakeystring-valueobject--facet" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facet-customdata"></a> customData(key:string, [value:object]) : Facet</h5>

<p>This method can be used to add arbitrary data to pass to the templates.
Data added using this method is included in the object returned by the toJSON() method
in the data.customData property.
To retrieve previously set data, just pass the key parameter without any value.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> facet <span class="pl-k">=</span> <span class="pl-en">Facetr</span>(<span class="pl-s"><span class="pl-pds">'</span>myCollection<span class="pl-pds">'</span></span>).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Hobbies<span class="pl-pds">'</span></span>).<span class="pl-en">customData</span>(<span class="pl-s"><span class="pl-pds">'</span>sublabel<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Available hobbies<span class="pl-pds">'</span></span>);

<span class="pl-c">// facet.customData('sublabel') returns 'Available hobbies'</span>
<span class="pl-c">// facet.toJSON().data.customData = { sublabel : 'Available hobbies' }</span></pre></div>

<h5>
<a id="-isselected--boolean" class="anchor" href="#-isselected--boolean" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facet-isselected"></a> isSelected : Boolean</h5>

<p>Returns true if any value is selected from this facet, false otherwise.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> facet <span class="pl-k">=</span> <span class="pl-en">Facetr</span>(<span class="pl-s"><span class="pl-pds">'</span>myCollection<span class="pl-pds">'</span></span>).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Hobbies<span class="pl-pds">'</span></span>);

<span class="pl-smi">facet</span>.<span class="pl-c1">value</span>(<span class="pl-s"><span class="pl-pds">'</span>fishing<span class="pl-pds">'</span></span>);

<span class="pl-c">// facet.isSelected() returns true</span>

<span class="pl-smi">facet</span>.<span class="pl-c1">clear</span>(); <span class="pl-c">// remove all selected values</span>

<span class="pl-c">// facet.isSelected() returns false</span></pre></div>

<h5>
<a id="-hierarchyhierarchysettingsarray--facet" class="anchor" href="#-hierarchyhierarchysettingsarray--facet" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facet-hierarchy"></a> hierarchy(hierarchySettings:Array) : Facet</h5>

<p>This method creates a hierarchical representation of facet values, based on the settings
object given as parameter. Once this method is used, the facet becomes a "hierarchical" facet.
You can then use the facet as you usually would, with the following differences:</p>

<ul>
<li>the data section of the object resulting from invoking the toJSON method will also
contain a "hierarchical" property with value true and a "groupedValues" array, with the following format:</li>
</ul>

<p>groupedValues</p>

<div class="highlight highlight-source-js"><pre>[
    {
        value<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>manager<span class="pl-pds">"</span></span>,
        label<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Manager<span class="pl-pds">"</span></span>,
        active<span class="pl-k">:</span> <span class="pl-c1">false</span>,
        activeCount<span class="pl-k">:</span> <span class="pl-c1">7</span>,
        count<span class="pl-k">:</span> <span class="pl-c1">7</span>,
        groups<span class="pl-k">:</span> [
            {
                value<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>team manager<span class="pl-pds">"</span></span>,
                label<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Team Manager<span class="pl-pds">"</span></span>,
                active<span class="pl-k">:</span> <span class="pl-c1">false</span>,
                activeCount<span class="pl-k">:</span> <span class="pl-c1">5</span>,
                count<span class="pl-k">:</span> <span class="pl-c1">5</span>,
                groups<span class="pl-k">:</span> [
                    { ... <span class="pl-smi">other</span> groups values ... }
                ]
            },
             {
                value<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>manager<span class="pl-pds">"</span></span>,
                label<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Manager<span class="pl-pds">"</span></span>,
                active<span class="pl-k">:</span> <span class="pl-c1">false</span>,
                activeCount<span class="pl-k">:</span> <span class="pl-c1">5</span>,
                count<span class="pl-k">:</span> <span class="pl-c1">5</span> <span class="pl-c">// no groups property means that this value has no children groups</span>
            },
        ]
    }
]</pre></div>

<ul>
<li><p>when a value from the facet is selected, also the models resulting from selecting its descendents values are
included in the result set</p></li>
<li><p>the count includes both the count of the value itself and that of its descendants values</p></li>
</ul>

<p>The hierarchySettings argument is an array with different "hierarchical value" objects, where it is possible
to specify the hierarchy of values along with a label. See the <strong>Example</strong> below to understand the hierarchySettings format.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre>    <span class="pl-k">var</span> hierarchySettings <span class="pl-k">=</span> [
        {               
            value<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>manager<span class="pl-pds">"</span></span>,
            label<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Manager<span class="pl-pds">"</span></span>,
            groups<span class="pl-k">:</span> [
                {
                    value<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>project manager<span class="pl-pds">"</span></span>,
                    label<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Project Manager<span class="pl-pds">"</span></span>,
                    groups<span class="pl-k">:</span> [
                        {
                            value<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>team manager<span class="pl-pds">"</span></span>,
                            label<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Team Manager<span class="pl-pds">"</span></span>
                        }
                    ]
                }
            ]
        }
    ];

    <span class="pl-k">var</span> profession <span class="pl-k">=</span> <span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Profession<span class="pl-pds">'</span></span>).<span class="pl-en">hierarchy</span>(hierarchySettings);

    <span class="pl-k">var</span> json <span class="pl-k">=</span> <span class="pl-smi">profession</span>.<span class="pl-en">toJSON</span>();

    <span class="pl-c">// value of json variable would be:</span>
    <span class="pl-c">//</span>
    <span class="pl-c">// {</span>
    <span class="pl-c">//  "data": {</span>
    <span class="pl-c">//      "name":"Profession",</span>
    <span class="pl-c">//      "hierarchical":true,</span>
    <span class="pl-c">//      "label":"Profession",</span>
    <span class="pl-c">//      "extOperator":"and",</span>
    <span class="pl-c">//      "intOperator":"or",</span>
    <span class="pl-c">//      "sort":{</span>
    <span class="pl-c">//          "by":"activeCount",</span>
    <span class="pl-c">//          "direction":"desc"</span>
    <span class="pl-c">//      },</span>
    <span class="pl-c">//      "selected":false,</span>
    <span class="pl-c">//      "customData":{}</span>
    <span class="pl-c">//  },</span>
    <span class="pl-c">//  "values": [ ... stays as the normal facets ... ],</span>
    <span class="pl-c">//  "groupedValues":[</span>
    <span class="pl-c">//      {</span>
    <span class="pl-c">//          "value":"manager",</span>
    <span class="pl-c">//          "label":"Manager",</span>
    <span class="pl-c">//          "active":false,</span>
    <span class="pl-c">//          "activeCount":3,</span>
    <span class="pl-c">//          "count":3,</span>
    <span class="pl-c">//          "groups":[</span>
    <span class="pl-c">//              {</span>
    <span class="pl-c">//                  "value":"project manager",</span>
    <span class="pl-c">//                  "label":"Project Manager",</span>
    <span class="pl-c">//                  "active":false,</span>
    <span class="pl-c">//                  "activeCount":2,</span>
    <span class="pl-c">//                  "count":2,</span>
    <span class="pl-c">//                  "groups":[</span>
    <span class="pl-c">//                      {</span>
    <span class="pl-c">//                          "value":"team manager",</span>
    <span class="pl-c">//                          "label":"Team Manager",</span>
    <span class="pl-c">//                          "active":false,</span>
    <span class="pl-c">//                          "activeCount":1,</span>
    <span class="pl-c">//                          "count":1</span>
    <span class="pl-c">//                      }</span>
    <span class="pl-c">//                  ]</span>
    <span class="pl-c">//              }</span>
    <span class="pl-c">//          ]</span>
    <span class="pl-c">//      }</span>
    <span class="pl-c">//  ]</span>
    <span class="pl-c">// }</span></pre></div>

<h3>
<a id="-facetexp" class="anchor" href="#-facetexp" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetexp"></a> FacetExp</h3>

<p>FacetExp objects are returned from Facet value and removeValue methods.
They can be used to coincisely define multiple values on a facet, using
different operators.</p>

<p><strong>Example</strong></p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>).<span class="pl-c1">value</span>(<span class="pl-c1">12</span>, <span class="pl-s"><span class="pl-pds">'</span>and<span class="pl-pds">'</span></span>);
<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>).<span class="pl-c1">value</span>(<span class="pl-c1">15</span>, <span class="pl-s"><span class="pl-pds">'</span>or<span class="pl-pds">'</span></span>);
<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>).<span class="pl-c1">value</span>(<span class="pl-c1">39</span>, <span class="pl-s"><span class="pl-pds">'</span>and<span class="pl-pds">'</span></span>);

<span class="pl-c">// can also be expressed with the following syntax</span>

<span class="pl-en">Facetr</span>(collection).<span class="pl-en">facet</span>(<span class="pl-s"><span class="pl-pds">'</span>Age<span class="pl-pds">'</span></span>).<span class="pl-c1">value</span>(<span class="pl-c1">12</span>, <span class="pl-s"><span class="pl-pds">'</span>and<span class="pl-pds">'</span></span>).<span class="pl-en">or</span>(<span class="pl-c1">15</span>).<span class="pl-en">and</span>(<span class="pl-c1">39</span>);</pre></div>

<h5>
<a id="-andvaluestring-silentboolean--facet" class="anchor" href="#-andvaluestring-silentboolean--facet" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetexp-and"></a> and(value:string, [silent:boolean]) : Facet</h5>

<p>Equivalent to facet.value('Value', 'and'), but can be used for FacetExp chains.</p>

<h5>
<a id="-orvaluestring-silentboolean--facet" class="anchor" href="#-orvaluestring-silentboolean--facet" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="facetexp-or"></a> or(value:string, [silent:boolean]) : Facet</h5>

<p>Equivalent to facet.value('Value', 'or'), but can be used for FacetExp chains.</p>

<h3>
<a id="-examples" class="anchor" href="#-examples" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="examples"></a> EXAMPLES</h3>

<p>This section contains a list of websites / projects using Facetr.</p>

<ul>
<li><a href="http://ruefer-ing.ch/referenzen">ruefer-ing.ch</a></li>
<li><a href="http://terra-vecchia.ch/sozialtherapie/angebote-und-betriebe">terra-vecchia.ch</a></li>
<li><a href="http://grimselhydro.ch/referenzen">grimselhydro.ch</a></li>
</ul>

<h3>
<a id="-license" class="anchor" href="#-license" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="license"></a> LICENSE</h3>

<p>Backbone.Facetr may be freely distributed under the MIT license.</p>

<p>Copyright (C) 2012 Arillo GmbH <a href="http://arillo.net">http://arillo.net</a></p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies 
of the Software, and to permit persons to whom the Software is furnished to do so, 
subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in all copies
or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, 
INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR 
PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE
FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR 
OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER 
DEALINGS IN THE SOFTWARE.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/arillo/Backbone.Facetr">Backbone.facetr</a> is maintained by <a href="https://github.com/arillo">arillo</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-39794666-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
